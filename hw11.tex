\documentclass[a4paper,10pt]{report}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{fancyhdr}
\usepackage{enumitem}
\usepackage[top=1in,left=1in,right=1in]{geometry}
\usepackage{mathrsfs}
\usepackage{bm}

\usepackage[all]{xy} % for commutative diagrams

\usepackage{bbm}
\usepackage{tikz-cd}
\usepackage{stackengine}
\usepackage{Math_Symbols} 
\usepackage{ifpdf}
\ifpdf
%\usepackage[pdftex]{graphicx}
%\else
%\usepackage[dvips]{graphicx}
%\fi

\setenumerate{listparindent=\parindent,topsep=\parskip}
% \setlist[enumerate]{topsep=\parskip}
\setlist[enumerate,2]{label=(\arabic*)}
\setlist[enumerate,3]{label=(\alph*)}

% \newcommand{\set}[1]{{\{#1\}}}
\newcommand{\ggen}[1]{\langle#1\rangle}
\newcommand{\pn}[2]{||#1||_{#2}}
\newcommand{\bpn}[2]{\left|\left|#1\right|\right|_{#2}}
\newcommand{\norm}[1]{||#1||}
\newcommand{\bnorm}[1]{\left|\left|#1\right|\right|}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\set}{\{}{\}}
\DeclarePairedDelimiter{\abs}{|}{|}
\DeclarePairedDelimiter{\ket}{|}{\rangle}
\DeclarePairedDelimiter{\bra}{\langle}{|}

\newcommand{\ol}[1]{\overline{#1}}

\renewcommand{\mod}{\text{ mod }}

\renewcommand{\O}{\operatorname{O}} % Bound otherwise
\renewcommand{\o}{\operatorname{o}}
\newcommand{\T}{\text{yes}}
\newcommand{\F}{\text{no}}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\textns}{\otimes}
\newcommand{\rar}[2][]{\overset{#2}{\underset{#1}{\longrightarrow}}}

\DeclareMathOperator{\img}{img}
\DeclareMathOperator{\fop}{int}
\DeclareMathOperator{\fcl}{cl}
% \DeclareMathOperator{\lg}{lg}
\DeclareMathOperator{\vspan}{span}
\DeclareMathOperator{\rng}{rng}
\DeclareMathOperator{\Rng}{Rng}
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Bernoulli}{Bernoulli}
\DeclareMathOperator{\Normal}{Normal}
\DeclareMathOperator{\Uniform}{Uniform}
\DeclareMathOperator{\Binom}{Binomial}
\DeclareMathOperator{\mgf}{mgf}
\DeclareMathOperator{\Supp}{Supp}

\newcommand{\cat}[1]{(\bm{#1})}

\providecommand{\Alpha}{A}

\newtheorem*{lemma*}{Lemma}

% Roman numerals
\makeatletter
\newcommand{\Romnum}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother
\newcommand{\factor}[1]{\text{\Romnum{#1}}}

\begin{document}
% \maketitle

\pagestyle{fancy}	
\fancyhf{} % Reset headers and footers
\lhead{Ethan Ackelsberg, Zachery Dell, Peter Huston\\
Functional Analysis 2\\
\today}
\setlength{\headheight}{60pt}

\begin{center}
	\textbf{Homework 11}
\end{center}
\begin{enumerate}
		\setcounter{enumi}{102}
	\item
		\begin{enumerate}
			\item First, recall that any Banach space is weak-$*$ dense in its double dual. In particular, $\ell^1\Gamma$ is weak-$*$ dense in $(\ell^\infty\Gamma)^*$. Let $\phi\in(\ell^\infty\Gamma)^*$ be a state, and pick some $(\phi_\lambda)\in\ell^1\Gamma$ with $\phi_\lambda\to\phi$ in the weak-$*$ topology. For $\psi\in\ell^1\Gamma$, let $\psi^+$ be defined by $\psi^+(g)=\Re(\phi(g))^+$, and notice that $\phi^+$ is still in $\ell^1$. We will demonstrate that $\pn{\phi_\lambda-\phi_\lambda^+}{1}\to 0$, implying that $\phi_\lambda-\phi_\lambda^+\to 0$ weakly by {H\"{o}lder's} inequality. Notice that 
				\[\phi_\lambda-\phi_\lambda^+=2\phi_\lambda^--i\Im(\phi_\lambda)\]
				On the other hand, evaluating at $1$ in $\ell^\infty\Gamma$ gives 
				\[\phi_\lambda(1)=\pn{\phi_\lambda^+}{1}-\pn{\phi_\lambda^-}{1}+i\pn{\Im(\phi_\lambda)}{1}\]
				Since $\phi_\lambda\to\phi$ in the weak-$*$ topology and $\phi$ is a state, $\phi_\lambda(1)\to 1$, and the latter two $1$-norms go to $0$, proving our claim. 
				
				Therefore, we may replace each $\phi_\lambda$ with $\phi_\lambda^+$ without changing the weak-$*$ limit, letting us assume that $(\phi_\lambda)$ is a net of positive members of $(\ell^1\Gamma)_1$. Define $\psi_\lambda$ by $\psi_\lambda=\frac{\phi_\lambda}{\phi_\lambda(1)}$. Since $\phi_\lambda(1)\to\phi(1)=1$, we have $\psi_\lambda\to\phi$ as well. Since $\ell^1\Gamma$ is a \csa, the facts that each $\psi_\lambda$ is positive, norm $1$, and $\psi_\lambda(1)=1$ imply that each $\psi_\lambda$ is a state, so we are done. 
			\item The product weak topology on $\oplus_{g\in F}\ell^1\Gamma$ is induced by the usual action of $\oplus_{g\in F}\ell^1\Gamma$ on $\oplus_{g\in F}\ell^\infty\Gamma$; similarly, since $F$ is finite, all norms on the direct sum consistent with the original are equivalent, so we may as well take the norm $\norm{\oplus_{g\in F}x_g}=\max_{g\in F}\pn{x_g}{1}$. In particular, the norm on $\ell^\infty\Gamma$ is equivalent to the operator norm from $\ell^1\Gamma$, so this norm is equivalent to the operator norm from $(\oplus_{g\in F}\ell^\infty\Gamma)^*$. 
				
				To see that $K$ is convex, notice that $\text{Prob}(\Gamma)$ is convex, and recall that the weak closure of a convex set is convex. Since $K$ is weakly closed and the norm on $\ell^\infty$ is the operator norm from $\ell^1$, $K$ is also norm closed. 
				
			\item Let $m$ be a left-$\Gamma$ invariant state on $l^\infty\Gamma$. Let $F\subseteq\Gamma$ finite be given. Let $(\mu_\lambda)$ be a net in $\text{Prob}(\Gamma)$ converging to $m$ in the weak-$*$ toplogy. The action of each $g\in F$ on $(\ell^\infty\Gamma)^*$ is weak-$*$ continuous, so $\oplus_{g\in F}g\mu_\lambda-\mu_\lambda\to\oplus_{g\in F}gm-m$ weak-$*$. However, since $m$ is left-$\Gamma$ invariant, $gm-m=0$ for each $g\in F$, so $\oplus_{g\in F}g\mu_\lambda\to 0$ weak-$*$, and hence weakly, since $0\in\ell^1\Gamma$. Since $K$ is weakly closed and each $\oplus_{g\in F}g\mu_\lambda-\lambda\in K$, we have $0\in K$. 
				
				Since $K$ is convex, $K$ is in fact the norm closure of $\set{\oplus_{g\in F}g\mu-\mu:\mu\in\text{Prob}(\Gamma)}$, so there is a sequence $\mu\in\text{Prob}(\Gamma)$ with $\max_{g\in F}\pn{g\mu-\mu}{1}<\epsilon$, i.e. $\Gamma$ has a left-invariant mean. 
		\end{enumerate}
	\item
		\begin{enumerate}
		\item Without loss of generality we may assume $a \leq b$, and then we have

                  \begin{align*}
                    &\I_0^1 \MG \chi_{\E r , 1 \FD} \E a \R - \chi_{\E r , 1 \FD} \E b \R \GM dr\\
                    =& \I_0^a \MG \chi_{\E r , 1 \FD} \E a \R - \chi_{\E r , 1 \FD} \E b \R \GM dr + \I_a^b \MG \chi_{\E r , 1 \FD} \E a \R - \chi_{\E r , 1 \FD} \E b \R \GM dr + \I_b^1 \MG \chi_{\E r , 1 \FD} \E a \R - \chi_{\E r , 1 \FD} \E b \R \GM dr\\
                    =& \I_a^b dr\\
                    =& b - a
                  \end{align*}
			\item 
			\item 
			\item 
			\item 
			\item 
			\item 
		\end{enumerate}
	\item
		\begin{enumerate}
			\item Find a bijection from the set of ultrafilters on $\N$ to $\beta\N$.
				\begin{proof}
					Let $\mathscr{U}$ be the set of ultrafilters on $\N$.
					Give $\mathscr{U}$ the topology generated by basic open sets of the form
					$\widetilde{A} := \{\omega \in \mathscr{U} : A \in \omega\}$ for $A \subseteq \N$.
					We will show that $\mathscr{U}$ with this topology satisfies the universal
					property for the Stone-\v{C}ech compactification of $\N$.
					
					For $n \in \N$, let $\widehat{n} \in \mathscr{U}$ be the principal ultrafilter
					on $n$, i.e. $\widehat{n} := \{A \subseteq \N : n \in A\}$.
					The map $\iota : \N \to \mathscr{U}$ given by $\iota(n) := \widehat{n}$
					is clearly an injection.
					Since $\N$ is discrete, $\iota$ is a continuous function.
					We want to show that the image $\iota(\N)$ is dense in $\mathscr{U}$.
					But this is easy: given $\es \ne A \subseteq \N$,
					we have $\widehat{n} \in \widetilde{A}$ for all $n \in A$.
					
					Now we claim that $\mathscr{U}$ is a Hausdorff space.
					Let $\omega_1 \ne \omega_2 \in \mathscr{U}$.
					Then there is a set $A \subseteq \N$ such that $A \in \omega_1$
					and $\N \setminus A \in \omega_2$.
					Hence, $\omega_1 \in \widetilde{A}$
					and $\omega_2 \in \widetilde{\N \setminus A}$, so $\mathscr{U}$ is Hausdorff.
					
					Next, we will show that $\mathscr{U}$ is compact.
					Note that every basic open set is also closed:
					$\widetilde{A} = \mathscr{U} \setminus \left( \widetilde{\N \setminus A} \right)$.
					Moreover, for any finite collection $A_1, \dots, A_n \subseteq \N$,
					since filters are closed under finite intersections and supersets, we have
					\begin{align*}
						\widetilde{\bigcap_{i=1}^n{A_i}}
						 = \{\omega \in \mathscr{U} : \bigcap_{i=1}^n{A_i} \in \omega\}
						 = \{\omega \in \mathscr{U} : A_i \in \omega~\text{for}~i = 1, \dots, n\}
						 = \bigcap_{i=1}^n{\widetilde{A_i}}.
					\end{align*}
					Let $(A_i)_{i \in I}$ be a collection of nonempty subsets of $\N$
					such that $\bigcap_{i \in F}{\widetilde{A_i}} \ne \es$ for all $F \subseteq I$ finite.
					Then by the previous observation, $\widetilde{\bigcap_{i \in F}{A_i}} \ne \es$.
					In particular, $\bigcap_{i \in F}{A_i} \ne \es$.
					That is, $(A_i)_{i \in I}$ satisfies the finite intersection property.
					Therefore, by Zorn's lemma, there is an ultrafilter $\omega \in \mathscr{U}$
					such that $A_i \in \omega$ for every $i \in I$.
					That is, $\omega \in \bigcap_{i \in I}{\widetilde{A_i}}$,
					so $\bigcap_{i \in I}{\widetilde{A_i}} \ne \es$.
					This proves that $\mathscr{U}$ is compact.
					
					Finally, we must show that $\mathscr{U}$ satisfies the extension property:
					given a compact Hausdorff space $X$ and a (continuous) map $f : \N \to X$,
					there is a unique continuous extension $\widetilde{f} : \mathscr{U} \to X$:
					\begin{displaymath}
						\xymatrix{
							\mathscr{U} \ar@{-->} [rd]^-{\widetilde{f}} \\
							\N \ar[r]_-f \ar@{^{(}->}[u]^-\iota & X
						}
					\end{displaymath}
					Let $X$ be a compact Hausdorff space, and let $f : \N \to X$ be any function.
					Define $\widetilde{f} : \mathscr{U} \to X$ by
					$\widetilde{f}(\omega) := \lim_{n \to \omega}{f(n)}$ as in (2).
					By (4), $\widetilde{f}(\widehat{n}) = f(n)$ for $n \in \N$, so $\widetilde{f}$
					is a well-defined extension of $f$.
					It remains to show that $\widetilde{f}$ is continuous.
					Let $U \subseteq X$ be open.
					If $f^{-1}(U) = \es$, there is nothing to show.
					Suppose $f^{-1}(U) \ne \es$.
					Since $X$ is a compact Hausdorff space, it is normal.
					Therefore, we may find an open set $V \subseteq X$
					(a neighborhood of a given point in $U \cap f(\N)$)
					such that $\overline{V} \subseteq U$
					and $f^{-1}(V) \ne \es$.
					Let $\omega \in \widetilde{f^{-1}(V)}$.
					Then $f^{-1}(X \setminus \overline{V}) \notin \omega$,
					so $\widetilde{f}(\omega) = \lim_{n \to \omega}{f(n)} \in \overline{V} \subseteq U$.
					Thus, $\widetilde{f^{-1}(V)}$ is a nonempty open subset of $\mathscr{U}$
					such that $\widetilde{f}(\widetilde{f^{-1}(V)}) \subseteq U$,
					so $\widetilde{f}$ is continuous.
					Uniqueness of $f$ follows from the density of $\N$
					in the Hausdorff space $\mathscr{U}$.
				\end{proof}
				
				Note: To see the connection with the $C^*$-algebra construction from last semester,
				we could also realize $\widehat{\ell^{\infty}}$ as the collection of
				ultralimits $\lim_{n \to \omega}$ for $\omega \in \mathscr{U}$.
				Linearity of these limits is shown in (5), and they are multiplicative for the same reason.
			\item Let $\omega$ be an ultrafilter on $\N$.
				Let $X$ be a compact Hausdorff space and $f : \N \to X$.
				We say $x = \lim_{n \to \omega}{f(n)}$ if for every open neighborhood $U$
				of $x$, $f^{-1}(U) \in \omega$.
				Prove that $\lim_{n \to \omega}{f(n)}$ always exists for any function $f : \N \to X$.
				\begin{proof}
					Let $\mathscr{C} :=
					\{K \subseteq X : K~\text{is closed and}~f^{-1}(K) \in \omega\}$.
					Note that $\mathscr{C}$ is nonempty, since $X \in \mathscr{C}$.
					Moreover, $\es \notin \mathscr{C}$.
					Given $K_1, \dots, K_n \in \mathscr{C}$, we have
					\begin{align*}
						f^{-1}\left( \bigcap_{i=1}^n{K_i} \right)
						 = \bigcap_{i=1}^n{f^{-1}(K_i)} \in \omega,
					\end{align*}
					since $\omega$ is a filter, so $\bigcap_{i=1}^n{K_i} \in \mathscr{C}$.
					In particular, $\bigcap_{i=1}^n{K_i} \ne \es$.
					By compactness, it follows that $\bigcap_{K \in \mathscr{C}}{K} \ne \es$.
					
					Let $x \in \bigcap_{K \in \mathscr{C}}{K}$.
					Let $U$ be an open neighborhood of $x$.
					We want to show $f^{-1}(U) \in \omega$.
					Note that $X \setminus U$ is closed and $x \notin X \setminus U$.
					Hence $X \setminus U \notin \mathscr{C}$ by the construction of $x$.
					But $f^{-1}(X \setminus U) = \N \setminus f^{-1}(U)$.
					Since $\omega$ is an ultrafilter, it follows that $f^{-1}(U) \in \omega$.
					
					Finally, we claim that $x$ is the unique limit of $f$ along $\omega$.
					Indeed, since $X$ is Hausdorff, given any other point $y \in X$,
					we may find disjoint open neighborhoods $U \ni x$ and $V \ni y$ so that
					$f^{-1}(V) \subseteq f^{-1}(X \setminus U) = \N \setminus f^{-1}(U) \notin \omega$.
				\end{proof}
			\item Show that every principal ultrafilter on $\N$ contains a unique singleton set,
				and any two ultrafilters containing the same singleton set are necessarily equal.
				Thus we may identify the set of principal ultrafilters on $\N$ with $\N$.
				\begin{proof}
					Let $\omega$ be an ultrafilter on $\N$,
					and suppose $A = \{n_1, \dots, n_k\} \in \omega$ has the fewest elements
					of any set in $\omega$.
					Suppose for contradiction that $k \ge 2$.
					By minimality of $A$, we must have $\{n_1\} \notin \omega$.
					But then $\N \setminus \{n_1\} \in \omega$, so
					$\{n_2, \dots, n_k\} = A \cap (\N \setminus \{n_1\}) \in \omega$,
					contradicting minimality of $A$.
					
					Hence $\omega \ni \{n\}$ for some $n \in \N$.
					This $n$ is necessarily unique, since $\omega$ is
					closed under finite intersections and does not contain the empty set.
					
					We claim that $\omega = \widehat{n} := \{A : n \in A\}$.
					First, $\widehat{n}$ is a filter.
					On the other hand, if $A \in \omega$, then $A \cap \{n\} \in \omega$,
					so $n \in A$.
					Hence, $\omega \subseteq \widehat{n}$.
					Since $\omega$ is an ultrafilter (and therefore a maximal filter),
					we must have $\omega = \widehat{n}$.
				\end{proof}
			\item Determine $\lim_{n \to \omega}{f(n)}$ for $f : \N \to X$ as in (2)
				when $\omega$ is principal.
				\begin{proof}
					Let $\omega = \widehat{k}$ be a principal ultrafilter.
					We claim $\lim_{n \to \omega}{f(n)} = f(k)$.
					Indeed, for every open set $U \ni f(k)$, we have
					$k \in f^{-1}(U)$, so $f^{-1}(U) \in \widehat{k} = \omega$.
				\end{proof}
			\item Let $\omega$ be a free ultrafilter on $\N$.
				Suppose $\Gamma = \bigcup_{n \in \N}{\Gamma_n}$ is a locally finite group
				and $m_n$ is the uniform probability (Haar) measure on $\Gamma_n$.
				Define $m : 2^{\Gamma} \to [0,1]$ by
				$m(A) = \lim_{n \to \omega}{m_n(A \cap \Gamma_n)}$.
				Prove that $m$ is a left $\Gamma$-invariant finitely additive probability measure
				on $\Gamma$, i.e. $\Gamma$ is amenable.
				\begin{proof}
					Clearly $m(\Gamma) = 1$.
					Let $A, B \subseteq \Gamma$ be disjoint.
					Then since $m_n$ is additive for each $n \in \N$,
					\begin{align*}
						m(A \cup B) & = \lim_{n \to \omega}
						{\left( m_n(A \cap \Gamma_n) + m_n(B \cap \Gamma_n) \right)}
					\end{align*}
					Thus, in order to show that $m$ is finitely additive,
					it suffices to show that $\lim_{n \to \omega}$ is additive.
					
					Suppose $x = \lim_{n \to \omega}{x_n}$ and $y = \lim_{n \to \omega}{y_n}$
					for some sequences $(x_n)_{n \in \N}$ and $(y_n)_{n \in \N}$ in $[0,1]$.
					Let $U$ be a neighborhood of $x + y$.
					Since addition is jointly continuous, we may find neighborhoods $V$ of $x$
					and $W$ of $y$ such that $V + W \subseteq U$.
					By assumption, $\{n : x_n \in V\} \in \omega$ and $\{n : y_n \in W\} \in \omega$.
					Hence,
					\begin{align*}
						\{n : x_n + y_n \in U\} \supseteq \{n : x_n \in V, y_n \in W\}
						 = \{n : x_n \in V\} \cap \{n : y_n \in W\} \in \omega.
					\end{align*}
					Therefore, $\lim_{n \to \omega}{x_n + y_n} = x + y$ as desired.
					
					It remains to show that $m$ is left $\Gamma$-invariant.
					Let $g \in \Gamma$.
					Then there is an $N \in \N$ such that $g \in \Gamma_n$ for all $n \ge N$.
					Since $\omega$ is free, $\{n \ge N\} \in \omega$.
					Let $A \subseteq \Gamma$, and let $U$ be a neighborhood of $m(A)$.
					Then we have
					\begin{align*}
						\{n : m_n((gA) \cap \Gamma_n) \in U\}
						 & = \{n : m_n(g(A \cap g^{-1}\Gamma_n)) \in U\} \\
						 & = \{n : m_n(A \cap g^{-1}\Gamma_n) \in U\} \\
						 & \supseteq \{n \ge N : m_n(A \cap \Gamma_n) \in U\} \\
						 & = \{n \ge N\} \cap \{n : m_n(A \cap \Gamma_n) \in U\}.
					\end{align*}
					Since $m(A) = \lim_{n \to \omega}{m_n(A \cap \Gamma_n)}$,
					both of these sets in the final line are elements of $\omega$,
					so their intersection is also in $\omega$.
					Hence, $m(gA) = \lim_{n \to \omega}{m_n((gA) \cap \Gamma_n)} = m(A)$.
				\end{proof}
		\end{enumerate}
\end{enumerate}

\end{document}          
